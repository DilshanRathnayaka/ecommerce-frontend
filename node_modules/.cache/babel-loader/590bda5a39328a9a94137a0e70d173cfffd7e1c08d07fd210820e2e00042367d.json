{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Route,Routes}from\"react-router-dom\";import{useState,useEffect}from'react';import Navbar from\"./Components/Navbar\";import Homescreen from\"./screens/Homescreen\";import\"react-toastify/dist/ReactToastify.css\";import{ToastContainer}from\"react-toastify\";import Product from\"./screens/Product\";import Cart from\"./screens/Cart\";import Admin from\"./screens/Admin\";import Login from\"./Components/Login\";import Register from\"./Components/Register\";import Protected from\"./Protected\";import Logout from\"./Components/Logout\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoggedIn=_useState2[0],setisLoggedIn=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isnotLoggedIn=_useState4[0],setisnotLoggedIn=_useState4[1];var LoginRoute=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/api/auth/',{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},credentials:\"include\"});case 3:res=_context.sent;if(res.status===200){setisLoggedIn(false);setisnotLoggedIn(true);}if(res.status===401){setisLoggedIn(true);setisnotLoggedIn(false);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function LoginRoute(){return _ref.apply(this,arguments);};}();useEffect(function(){LoginRoute();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{isLoggedIn:isLoggedIn}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/Login\",element:/*#__PURE__*/_jsx(Protected,{isnotLoggedIn:isnotLoggedIn,children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/Register\",element:/*#__PURE__*/_jsx(Protected,{isnotLoggedIn:isnotLoggedIn,children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/Logout\",element:/*#__PURE__*/_jsx(Protected,{isLoggedIn:isLoggedIn,children:/*#__PURE__*/_jsx(Logout,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/Admin\",exact:true,element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,element:/*#__PURE__*/_jsx(Homescreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Product/:id\",element:/*#__PURE__*/_jsx(Product,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Cart\",element:/*#__PURE__*/_jsx(Cart,{})})]})]});}export default App;","map":{"version":3,"names":["Route","Routes","useState","useEffect","Navbar","Homescreen","ToastContainer","Product","Cart","Admin","Login","Register","Protected","Logout","App","isLoggedIn","setisLoggedIn","isnotLoggedIn","setisnotLoggedIn","LoginRoute","fetch","method","headers","Accept","credentials","res","status","console","log"],"sources":["C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/src/App.js"],"sourcesContent":["import { Route, Routes } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nimport Navbar from \"./Components/Navbar\";\nimport Homescreen from \"./screens/Homescreen\";\nimport \"react-toastify/dist/ReactToastify.css\"\nimport { ToastContainer } from \"react-toastify\"\nimport Product from \"./screens/Product\";\nimport Cart from \"./screens/Cart\";\nimport Admin from \"./screens/Admin\";\nimport Login from \"./Components/Login\";\nimport Register from \"./Components/Register\";\nimport Protected from \"./Protected\"\nimport Logout from \"./Components/Logout\";\n\n\nfunction App() {\n\n  const [isLoggedIn, setisLoggedIn] = useState(true);\n  const [isnotLoggedIn, setisnotLoggedIn] = useState(false);\n\n \n\n  const LoginRoute = async () => {\n    try {\n      const res = await fetch('/api/auth/', {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      });\n\n      if (res.status === 200) {\n        setisLoggedIn(false)\n        setisnotLoggedIn(true)\n      } if (res.status === 401) {\n        setisLoggedIn(true)\n        setisnotLoggedIn(false)\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  useEffect(() => {\n   \n    LoginRoute();\n   \n  }, []);\n\n\n  return (\n    <div className=\"App\">\n\n      <Navbar isLoggedIn={isLoggedIn} />\n      <ToastContainer />\n      <Routes>\n\n        <Route\n          path=\"/Login\"\n          element={\n            <Protected isnotLoggedIn={isnotLoggedIn}>\n              <Login />\n            </Protected>\n          }\n        />\n\n        <Route\n          path=\"/Register\"\n          element={\n            <Protected isnotLoggedIn={isnotLoggedIn}>\n              <Register />\n            </Protected>\n          }\n        />\n\n       \n         <Route\n        path=\"/Logout\"\n        element={\n          <Protected isLoggedIn={isLoggedIn} >\n            <Logout />\n          </Protected>\n        }\n      />\n <Route path=\"/Admin\" exact element={<Admin />}></Route>\n        <Route path=\"/\" exact element={<Homescreen />}></Route>\n        <Route path=\"/Product/:id\" element={<Product />}></Route>\n        <Route path=\"/Cart\" element={<Cart />}></Route>\n\n\n\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"mcAAA,OAASA,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CAChD,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,OAAM,KAAM,qBAAqB,CACxC,MAAOC,WAAU,KAAM,sBAAsB,CAC7C,MAAO,uCAAuC,CAC9C,OAASC,cAAc,KAAQ,gBAAgB,CAC/C,MAAOC,QAAO,KAAM,mBAAmB,CACvC,MAAOC,KAAI,KAAM,gBAAgB,CACjC,MAAOC,MAAK,KAAM,iBAAiB,CACnC,MAAOC,MAAK,KAAM,oBAAoB,CACtC,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,MAAOC,UAAS,KAAM,aAAa,CACnC,MAAOC,OAAM,KAAM,qBAAqB,CAAC,wFAGzC,QAASC,IAAG,EAAG,CAEb,cAAoCZ,QAAQ,CAAC,IAAI,CAAC,wCAA3Ca,UAAU,eAAEC,aAAa,eAChC,eAA0Cd,QAAQ,CAAC,KAAK,CAAC,yCAAlDe,aAAa,eAAEC,gBAAgB,eAItC,GAAMC,WAAU,4FAAG,kLAEGC,MAAK,CAAC,YAAY,CAAE,CACpCC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAClB,CAAC,CACDC,WAAW,CAAE,SACf,CAAC,CAAC,QAPIC,GAAG,eAST,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtBV,aAAa,CAAC,KAAK,CAAC,CACpBE,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAE,GAAIO,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACxBV,aAAa,CAAC,IAAI,CAAC,CACnBE,gBAAgB,CAAC,KAAK,CAAC,CACzB,CAAC,+EAEDS,OAAO,CAACC,GAAG,aAAO,oEAErB,kBArBKT,WAAU,0CAqBf,CAEDhB,SAAS,CAAC,UAAM,CAEdgB,UAAU,EAAE,CAEd,CAAC,CAAE,EAAE,CAAC,CAGN,mBACE,aAAK,SAAS,CAAC,KAAK,wBAElB,KAAC,MAAM,EAAC,UAAU,CAAEJ,UAAW,EAAG,cAClC,KAAC,cAAc,IAAG,cAClB,MAAC,MAAM,yBAEL,KAAC,KAAK,EACJ,IAAI,CAAC,QAAQ,CACb,OAAO,cACL,KAAC,SAAS,EAAC,aAAa,CAAEE,aAAc,uBACtC,KAAC,KAAK,IAAG,EAEZ,EACD,cAEF,KAAC,KAAK,EACJ,IAAI,CAAC,WAAW,CAChB,OAAO,cACL,KAAC,SAAS,EAAC,aAAa,CAAEA,aAAc,uBACtC,KAAC,QAAQ,IAAG,EAEf,EACD,cAGD,KAAC,KAAK,EACP,IAAI,CAAC,SAAS,CACd,OAAO,cACL,KAAC,SAAS,EAAC,UAAU,CAAEF,UAAW,uBAChC,KAAC,MAAM,IAAG,EAEb,EACD,cACP,KAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,MAAC,OAAO,cAAE,KAAC,KAAK,IAAI,EAAS,cAChD,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,KAAK,MAAC,OAAO,cAAE,KAAC,UAAU,IAAI,EAAS,cACvD,KAAC,KAAK,EAAC,IAAI,CAAC,cAAc,CAAC,OAAO,cAAE,KAAC,OAAO,IAAI,EAAS,cACzD,KAAC,KAAK,EAAC,IAAI,CAAC,OAAO,CAAC,OAAO,cAAE,KAAC,IAAI,IAAI,EAAS,GAIxC,GACL,CAEV,CAEA,cAAeD,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}