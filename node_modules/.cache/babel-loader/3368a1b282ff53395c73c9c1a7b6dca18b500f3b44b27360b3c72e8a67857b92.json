{"ast":null,"code":"import _objectSpread from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{toast}from\"react-toastify\";var initialState={cartItems:localStorage.getItem(\"CartItems\")?JSON.parse(localStorage.getItem(\"CartItems\")):[],cartTotalQuantity:0,CartTotalAmount:0};var CartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{addTocart:function addTocart(state,action){var itemIndex=state.cartItems.findIndex(function(item){return item._id===action.payload._id;});if(itemIndex>=0){state.cartItems[itemIndex].cartQuantity+=1;toast.info(\"Incrsed\",{position:\"bottom-left\"});}else{var tempProduct=_objectSpread(_objectSpread({},action.payload),{},{cartQuantity:1});state.cartItems.push(tempProduct);toast.success(\"\".concat(action.payload.name,\" Added To Cart\"),{position:\"bottom-left\"});}localStorage.setItem(\"CartItems\",JSON.stringify(state.cartItems));},removeFromCart:function removeFromCart(state,action){var nextCartItems=state.cartItems.filter(function(cartItem){return cartItem._id!==action.payload._id;});state.cartItems=nextCartItems;localStorage.setItem(\"CartItems\",JSON.stringify(state.cartItems));toast.error(\"\".concat(action.payload.name,\" Remove From Cart\"),{position:\"bottom-left\"});},DecreseCart:function DecreseCart(state,action){var itemIndex=state.cartItems.findIndex(function(cartItem){return cartItem._id===action.payload._id;});if(state.cartItems[itemIndex].cartQuantity>1){state.cartItems[itemIndex].cartQuantity-=1;}else if(state.cartItems[itemIndex].cartQuantity===1){var nextCartItems=state.cartItems.filter(function(cartItem){return cartItem._id!==action.payload._id;});state.cartItems=nextCartItems;}localStorage.setItem(\"CartItems\",JSON.stringify(state.cartItems));},Increse:function Increse(state,action){var itemIndex=state.cartItems.findIndex(function(item){return item._id===action.payload._id;});if(itemIndex>=0){state.cartItems[itemIndex].cartQuantity+=1;}else{var tempProduct=_objectSpread(_objectSpread({},action.payload),{},{cartQuantity:1});state.cartItems.push(tempProduct);}localStorage.setItem(\"CartItems\",JSON.stringify(state.cartItems));},ClearCart:function ClearCart(state,action){state.cartItems=[];toast.error('Cart Cleared',{position:\"bottom-left\"});localStorage.setItem(\"CartItems\",JSON.stringify(state.cartItems));},GetTotal:function GetTotal(state,action){var _state$cartItems$redu=state.cartItems.reduce(function(cartTotal,cartItem){var price=cartItem.price,cartQuantity=cartItem.cartQuantity;var itemTotal=price*cartQuantity;cartTotal.total+=itemTotal;cartTotal.quantity+=cartQuantity;return cartTotal;},{total:0,quantity:0}),total=_state$cartItems$redu.total,quantity=_state$cartItems$redu.quantity;state.cartTotalQuantity=quantity;state.CartTotalAmount=total;}}});var _CartSlice$actions=CartSlice.actions,addTocart=_CartSlice$actions.addTocart,removeFromCart=_CartSlice$actions.removeFromCart,DecreseCart=_CartSlice$actions.DecreseCart,Increse=_CartSlice$actions.Increse,ClearCart=_CartSlice$actions.ClearCart,GetTotal=_CartSlice$actions.GetTotal;export{addTocart,removeFromCart,DecreseCart,Increse,ClearCart,GetTotal};export default CartSlice.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","cartItems","localStorage","getItem","JSON","parse","cartTotalQuantity","CartTotalAmount","CartSlice","name","reducers","addTocart","state","action","itemIndex","findIndex","item","_id","payload","cartQuantity","info","position","tempProduct","push","success","setItem","stringify","removeFromCart","nextCartItems","filter","cartItem","error","DecreseCart","Increse","ClearCart","GetTotal","reduce","cartTotal","price","itemTotal","total","quantity","actions","reducer"],"sources":["C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/src/features/CartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\"\r\nimport { toast } from \"react-toastify\"\r\n\r\nconst initialState = {\r\n    cartItems: localStorage.getItem(\"CartItems\") ? JSON.parse(localStorage.getItem(\"CartItems\")) : [],\r\n    cartTotalQuantity: 0,\r\n    CartTotalAmount: 0\r\n};\r\n\r\nconst CartSlice = createSlice({\r\n    name: \"cart\",\r\n    initialState,\r\n    reducers: {\r\n        addTocart(state, action) {\r\n\r\n            const itemIndex = state.cartItems.findIndex(item => item._id === action.payload._id);\r\n            if (itemIndex >= 0) {\r\n                state.cartItems[itemIndex].cartQuantity += 1;\r\n                toast.info(\"Incrsed\", {\r\n                    position: \"bottom-left\"\r\n                });\r\n            } else {\r\n                const tempProduct = { ...action.payload, cartQuantity: 1 };\r\n                state.cartItems.push(tempProduct);\r\n                toast.success(`${action.payload.name} Added To Cart`, {\r\n                    position: \"bottom-left\",\r\n                });\r\n            }\r\n\r\n            localStorage.setItem(\"CartItems\", JSON.stringify(state.cartItems))\r\n\r\n        },\r\n        removeFromCart(state, action) {\r\n            const nextCartItems = state.cartItems.filter(\r\n                cartItem => cartItem._id !== action.payload._id\r\n            )\r\n            state.cartItems = nextCartItems;\r\n            localStorage.setItem(\"CartItems\",JSON.stringify(state.cartItems))\r\n            toast.error(`${action.payload.name} Remove From Cart`, {\r\n                position: \"bottom-left\",\r\n            });\r\n\r\n        },\r\n        DecreseCart(state,action){\r\n            const itemIndex =state.cartItems.findIndex(\r\n                cartItem => cartItem._id === action.payload._id\r\n            )\r\n            if(state.cartItems[itemIndex].cartQuantity>1){\r\n                state.cartItems[itemIndex].cartQuantity-=1\r\n            }else if(state.cartItems[itemIndex].cartQuantity === 1){\r\n                const nextCartItems = state.cartItems.filter(\r\n                    cartItem => cartItem._id !== action.payload._id\r\n                )\r\n                state.cartItems = nextCartItems;\r\n               \r\n            }\r\n            localStorage.setItem(\"CartItems\",JSON.stringify(state.cartItems))\r\n        },\r\n        Increse(state, action) {\r\n\r\n            const itemIndex = state.cartItems.findIndex(item => item._id === action.payload._id);\r\n            if (itemIndex >= 0) {\r\n                state.cartItems[itemIndex].cartQuantity += 1;\r\n                \r\n            } else {\r\n                const tempProduct = { ...action.payload, cartQuantity: 1 };\r\n                state.cartItems.push(tempProduct);\r\n               \r\n            }\r\n\r\n            localStorage.setItem(\"CartItems\", JSON.stringify(state.cartItems))\r\n\r\n        },\r\n        ClearCart(state,action){\r\n            state.cartItems = [];\r\n            toast.error('Cart Cleared', {\r\n                position: \"bottom-left\",\r\n            });\r\n            localStorage.setItem(\"CartItems\", JSON.stringify(state.cartItems))\r\n        },\r\n        GetTotal(state,action){\r\n           let {total,quantity} = state.cartItems.reduce((cartTotal,cartItem)=>{\r\n                const {price,cartQuantity} = cartItem;\r\n                const itemTotal = price * cartQuantity;\r\n\r\n                cartTotal.total += itemTotal\r\n                cartTotal.quantity += cartQuantity\r\n\r\n                return cartTotal;\r\n            },{\r\n                total:0,\r\n                quantity:0\r\n            });\r\n            state.cartTotalQuantity = quantity;\r\n            state.CartTotalAmount = total;\r\n        }\r\n    },\r\n});\r\n\r\nexport const { addTocart,removeFromCart,DecreseCart,Increse ,ClearCart,GetTotal} = CartSlice.actions;\r\nexport default CartSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}