{"ast":null,"code":"import _slicedToArray from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useGetAllProductsQuery}from'../features/productAPI';import\"../CSS/Homescreen.css\";import{useDispatch}from'react-redux';import{addTocart}from'../features/CartSlice';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Homescreen(){var _useGetAllProductsQue=useGetAllProductsQuery(),data=_useGetAllProductsQue.data,error=_useGetAllProductsQue.error,isLoading=_useGetAllProductsQue.isLoading;var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filteredproduct=_useState2[0],setFilteredproduct=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchinput=_useState4[0],setSearchinput=_useState4[1];var _useState5=useState(data),_useState6=_slicedToArray(_useState5,2),productlist=_useState6[0],setProductlist=_useState6[1];useEffect(function(){axios.get('/api/Product').then(function(res){setProductlist(res.data);});},[]);var addtocart=function addtocart(product){dispatch(addTocart(product));};var searchItems=function searchItems(searchValue){setSearchinput(searchValue);if(searchinput!==\"\"){var filteredData=productlist.filter(function(list){return Object.values(list.name).join(\"\").toLowerCase().includes(searchinput.toLowerCase());});console.log(filteredData);setFilteredproduct(filteredData);}else{setFilteredproduct(productlist);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-home-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-head\",children:/*#__PURE__*/_jsx(\"input\",{className:\"home-input\",type:\"search\",placeholder:\"Search\",onChange:function onChange(e){return searchItems(e.target.value);},name:\"searchitem\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-home\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading\"}):error?/*#__PURE__*/_jsx(\"p\",{children:\"An Error Occured\"}):/*#__PURE__*/_jsx(_Fragment,{children:searchinput.length>1?filteredproduct.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{class:\"card\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"#\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"image\",className:\"img-fluid\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"card-title\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{class:\"card-text\",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn1 btn btn-outline-dark\",onClick:function onClick(){return addtocart(product);},children:\"Add To Cart\"})]})]},product._id);}):data===null||data===void 0?void 0:data.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{class:\"card\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/Product/\".concat(product._id),children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"\",className:\"img-fluid\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"card-title\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{class:\"card-text\",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn1 btn btn-outline-dark\",onClick:function onClick(){return addtocart(product);},children:\"Add To Cart\"})]})]},product._id);})})})]});}export default Homescreen;","map":{"version":3,"names":["React","useState","useEffect","useGetAllProductsQuery","useDispatch","addTocart","axios","Homescreen","data","error","isLoading","dispatch","filteredproduct","setFilteredproduct","searchinput","setSearchinput","productlist","setProductlist","get","then","res","addtocart","product","searchItems","searchValue","filteredData","filter","list","Object","values","name","join","toLowerCase","includes","console","log","e","target","value","length","map","image","price","_id"],"sources":["C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/src/screens/Homescreen.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useGetAllProductsQuery } from '../features/productAPI'\r\nimport \"../CSS/Homescreen.css\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { addTocart } from '../features/CartSlice'\r\nimport axios from 'axios'\r\n\r\nfunction Homescreen() {\r\n  const { data, error, isLoading } = useGetAllProductsQuery()\r\n  const dispatch = useDispatch();\r\n  const [filteredproduct, setFilteredproduct] = useState([]);\r\n  const [searchinput, setSearchinput] = useState(\"\")\r\n  const [productlist, setProductlist] = useState(data)\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/Product').then((res) => {\r\n      setProductlist(res.data)\r\n    })\r\n  }, [])\r\n\r\n  const addtocart = (product) => {\r\n    dispatch(addTocart(product));\r\n  }\r\n\r\n  const searchItems = (searchValue) => {\r\n    setSearchinput(searchValue);\r\n    if (searchinput !== \"\") {\r\n      const filteredData = productlist.filter((list) => {\r\n        return Object.values(list.name)\r\n          .join(\"\")\r\n          .toLowerCase()\r\n          .includes(searchinput.toLowerCase());\r\n      });\r\n      console.log(filteredData);\r\n      setFilteredproduct(filteredData);\r\n    } else {\r\n      setFilteredproduct(productlist);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className='main-home-container'>\r\n      <div className=\"search-head\">\r\n        <input className='home-input' type=\"search\" placeholder='Search' onChange={(e) => searchItems(e.target.value)} name=\"searchitem\" />\r\n      </div>\r\n\r\n      <div className='main-home' >\r\n        {isLoading ? (<p>Loading</p>) : error ? (<p>An Error Occured</p>) : (\r\n          <>\r\n            {searchinput.length > 1 ? filteredproduct.map((product) => {\r\n              return (\r\n                \r\n                <div class=\"card\" key={product._id}>\r\n                 <a href=\"#\"> <img src={product.image} alt=\"image\" className='img-fluid' /></a>\r\n                 \r\n                  <div class=\"card-body\">\r\n                    <h5 class=\"card-title\">{product.name}</h5>\r\n                    <p class=\"card-text\">${product.price}</p>\r\n                    <button type=\"button\" class=\"btn1 btn btn-outline-dark\" onClick={() => addtocart(product)}>Add To Cart</button>\r\n                  </div>\r\n                </div>\r\n\r\n              )\r\n            }) :\r\n\r\n              data?.map(product =>\r\n                <div class=\"card\" key={product._id}>\r\n                 <a href={`/Product/${product._id}`}><img src={product.image} alt=\"\" className='img-fluid' /></a> \r\n                  <div class=\"card-body\">\r\n                    <h5 class=\"card-title\">{product.name}</h5>\r\n                    <p class=\"card-text\">${product.price}</p>\r\n                    <button type=\"button\" class=\"btn1 btn btn-outline-dark\" onClick={() => addtocart(product)}>Add To Cart</button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n          </>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  )\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default Homescreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}