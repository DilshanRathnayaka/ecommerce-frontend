{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import\"../CSS/Login.css\";import{useNavigate}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var navigate=useNavigate();var handlechange=function handlechange(e){var name=e.target.name;var value=e.target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var handlesubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var username,password,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();username=user.username,password=user.password;_context.prev=2;_context.next=5;return fetch('/api/login/login',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,password:password})});case 5:res=_context.sent;if(res.status===401||!res){window.alert(\"Invalid Credentials\");}else{navigate('/');window.location.reload();localStorage.setItem('username',username);}_context.next=11;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);case 11:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function handlesubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"h1\",children:[\"Login\",/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-right-to-bracket\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",action:\"\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"text\",placeholder:\"username\",value:user.username,onChange:handlechange,name:\"username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"password\",placeholder:\"password\",name:\"password\",value:user.password,onChange:handlechange}),/*#__PURE__*/_jsx(\"button\",{class:\"btn1 btn btn-outline-dark\",onClick:handlesubmit,children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"donthave\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Don't have Account?\"}),/*#__PURE__*/_jsx(\"a\",{className:\"register\",href:\"/Register\",children:\"Register\"})]})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Login","username","password","user","setUser","navigate","handlechange","e","name","target","value","handlesubmit","preventDefault","fetch","method","headers","body","JSON","stringify","res","status","window","alert","location","reload","localStorage","setItem"],"sources":["C:/Users/nimes/OneDrive/Desktop/Project/E-commerce/frontend/src/Components/Login.jsx"],"sourcesContent":["import React,{useState}from 'react'\r\nimport \"../CSS/Login.css\"\r\nimport { useNavigate } from 'react-router';\r\n\r\nfunction Login() {\r\n  const [user, setUser] = useState({\r\n    username: '',\r\n    password: '',\r\n});\r\nconst navigate = useNavigate();\r\n\r\nconst handlechange = (e) => {\r\n    let name = e.target.name;\r\n    let value = e.target.value\r\n\r\n    setUser({ ...user, [name]: value })\r\n}\r\n\r\n\r\nconst handlesubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { username, password } = user;\r\n    try {\r\n        const res = await fetch('/api/login/login', {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                username, password\r\n            })\r\n        });\r\n        if (res.status === 401 || !res) {\r\n            window.alert(\"Invalid Credentials\")\r\n        } else {\r\n            navigate('/')\r\n            window.location.reload();\r\n            localStorage.setItem('username', username);\r\n            \r\n        }\r\n    } catch (err) {\r\n     \r\n    }\r\n}\r\n\r\n  return (\r\n    <div className='login-container'>\r\n<h1 className='h1'>Login<i class=\"fa-solid fa-right-to-bracket\"></i></h1>\r\n<form className='login-form' action=\"\">\r\n \r\n  <input className='login-input' type=\"text\" placeholder='username' value={user.username} onChange={handlechange} name=\"username\"/>\r\n \r\n  <input className='login-input' type=\"password\" placeholder='password'  name=\"password\" value={user.password} onChange={handlechange}/>\r\n  <button  class=\"btn1 btn btn-outline-dark\" onClick={handlesubmit}>Login</button>\r\n  <div className='donthave'><p>Don't have Account?</p>\r\n  <a className='register' href=\"/Register\">Register</a></div>\r\n  \r\n</form>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"suBAAA,MAAOA,MAAK,EAAEC,QAAQ,KAAM,OAAO,CACnC,MAAO,kBAAkB,CACzB,OAASC,WAAW,KAAQ,cAAc,CAAC,wFAE3C,QAASC,MAAK,EAAG,CACf,cAAwBF,QAAQ,CAAC,CAC/BG,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EACd,CAAC,CAAC,wCAHOC,IAAI,eAAEC,OAAO,eAItB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9B,GAAMO,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CACxB,GAAIC,KAAI,CAAGD,CAAC,CAACE,MAAM,CAACD,IAAI,CACxB,GAAIE,MAAK,CAAGH,CAAC,CAACE,MAAM,CAACC,KAAK,CAE1BN,OAAO,gCAAMD,IAAI,wBAAGK,IAAI,CAAGE,KAAK,GAAG,CACvC,CAAC,CAGD,GAAMC,aAAY,4FAAG,iBAAOJ,CAAC,6IACzBA,CAAC,CAACK,cAAc,EAAE,CACVX,QAAQ,CAAeE,IAAI,CAA3BF,QAAQ,CAAEC,QAAQ,CAAKC,IAAI,CAAjBD,QAAQ,uCAEJW,MAAK,CAAC,kBAAkB,CAAE,CACxCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBjB,QAAQ,CAARA,QAAQ,CAAEC,QAAQ,CAARA,QACd,CAAC,CACL,CAAC,CAAC,QARIiB,GAAG,eAST,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,EAAI,CAACD,GAAG,CAAE,CAC5BE,MAAM,CAACC,KAAK,CAAC,qBAAqB,CAAC,CACvC,CAAC,IAAM,CACHjB,QAAQ,CAAC,GAAG,CAAC,CACbgB,MAAM,CAACE,QAAQ,CAACC,MAAM,EAAE,CACxBC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAEzB,QAAQ,CAAC,CAE9C,CAAC,kJAIR,kBAxBKU,aAAY,4CAwBjB,CAEC,mBACE,aAAK,SAAS,CAAC,iBAAiB,wBACpC,YAAI,SAAS,CAAC,IAAI,WAAC,OAAK,wBAAG,KAAK,CAAC,8BAA8B,EAAK,GAAK,cACzE,cAAM,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,wBAEpC,cAAO,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAER,IAAI,CAACF,QAAS,CAAC,QAAQ,CAAEK,YAAa,CAAC,IAAI,CAAC,UAAU,EAAE,cAEjI,cAAO,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAEH,IAAI,CAACD,QAAS,CAAC,QAAQ,CAAEI,YAAa,EAAE,cACtI,eAAS,KAAK,CAAC,2BAA2B,CAAC,OAAO,CAAEK,YAAa,UAAC,OAAK,EAAS,cAChF,aAAK,SAAS,CAAC,UAAU,wBAAC,mBAAG,qBAAmB,EAAI,cACpD,UAAG,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,UAAC,UAAQ,EAAI,GAAM,GAEtD,GAEG,CAEV,CAEA,cAAeX,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}